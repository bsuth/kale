local constants = require('erde.constants')

-- -----------------------------------------------------------------------------
-- Return
-- -----------------------------------------------------------------------------

local Return = {}

-- -----------------------------------------------------------------------------
-- Parse
-- -----------------------------------------------------------------------------

function Return.parse(ctx)
  if not ctx:branchWord('return') then
    ctx:throwExpected('return')
  end

  return { rule = 'Return', value = ctx:Expr() }
end

-- -----------------------------------------------------------------------------
-- Compile
-- -----------------------------------------------------------------------------

function Return.compile(ctx, node)
  return 'return ' .. ctx:compile(node.value)
end

-- -----------------------------------------------------------------------------
-- Return
-- -----------------------------------------------------------------------------

return Return
